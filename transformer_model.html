<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoNet Earthquake Classifier - Transformer Model</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .header {
            background-color: #6b46c1;
            color: white;
            padding: 1rem;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5rem;
        }
        .header p {
            margin: 0.5rem 0 0;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        #map {
            height: calc(100vh - 200px);
            width: 100%;
            margin: 0;
        }
        .footer {
            background-color: #34495e;
            color: white;
            text-align: center;
            padding: 1rem;
            font-size: 0.8rem;
        }
        .footer a {
            color: #3498db;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ¤– GeoNet Earthquake Classifier - Transformer Model</h1>
        <p>
            Real-time earthquake intensity predictions using Transformer Model
        </p>
    </div>
    <div id="map"></div>
    <div class="footer">
        <p>Data source:
            <a href="https://www.geonet.org.nz/" target="_blank">
                GeoNet New Zealand</a> |
                Earthquakes from the last 7
                days with magnitude â‰¥ 3
        </p>
        <p>
            High intensity: Magnitude â‰¥ 4 |
                Low intensity: Magnitude < 4</p>
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        // Initialize map centered on New Zealand
        var map = L.map('map').setView([-41.2865, 174.7762], 6);

        // Add OpenStreetMap tiles
        L.tileLayer(
        'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        // Earthquake data
        var earthquakes = [{"lat": -34.889205933, "lon": 179.844650269, "magnitude": 3.250632315207283, "depth": 100.0, "intensity": "Low", "timestamp": "Fri, Feb 06 2026, 04:39:22 AM", "publicid": "2026p097822"}, {"lat": -33.951255798, "lon": 179.356170654, "magnitude": 3.5749624212008437, "depth": 295.2847595214844, "intensity": "Low", "timestamp": "Fri, Feb 06 2026, 02:59:16 AM", "publicid": "2026p097634"}, {"lat": -35.340343475, "lon": 178.819946289, "magnitude": 3.283975002728406, "depth": 209.12281799316406, "intensity": "Low", "timestamp": "Fri, Feb 06 2026, 01:20:16 AM", "publicid": "2026p097448"}, {"lat": -18.210643768, "lon": -176.955566406, "magnitude": 4.656258113785457, "depth": 100.0, "intensity": "High", "timestamp": "Fri, Feb 06 2026, 12:02:49 AM", "publicid": "2026p097309"}, {"lat": -26.522100449, "lon": -179.929916382, "magnitude": 4.302969011863192, "depth": 632.1814575195312, "intensity": "High", "timestamp": "Fri, Feb 06 2026, 12:01:58 AM", "publicid": "2026p097303"}, {"lat": -36.187397003, "lon": 178.098556519, "magnitude": 3.4596048761531466, "depth": 173.40817260742188, "intensity": "Low", "timestamp": "Thu, Feb 05 2026, 07:21:30 PM", "publicid": "2026p096775"}, {"lat": -8.873, "lon": 111.187, "magnitude": 6.164880005314017, "depth": 58.4, "intensity": "High", "timestamp": "Thu, Feb 05 2026, 06:06:13 PM", "publicid": "2026p096652"}, {"lat": -17.76, "lon": -178.36, "magnitude": 5.365595193292228, "depth": 588.0, "intensity": "High", "timestamp": "Thu, Feb 05 2026, 04:05:12 PM", "publicid": "2026p096412"}, {"lat": -29.542001724, "lon": 179.641540527, "magnitude": 3.9741941360960147, "depth": 136.32240295410156, "intensity": "Low", "timestamp": "Thu, Feb 05 2026, 11:29:54 AM", "publicid": "2026p095892"}, {"lat": -46.667491913, "lon": 165.683059692, "magnitude": 3.726618915367782, "depth": 5.0, "intensity": "Low", "timestamp": "Thu, Feb 05 2026, 08:06:14 AM", "publicid": "2026p095507"}, {"lat": -37.38993454, "lon": -179.421615601, "magnitude": 3.5177616366652127, "depth": 33.0, "intensity": "Low", "timestamp": "Thu, Feb 05 2026, 02:35:00 AM", "publicid": "2026p094885"}, {"lat": -22.449289322, "lon": -175.466110229, "magnitude": 4.636257809732141, "depth": 100.0, "intensity": "High", "timestamp": "Thu, Feb 05 2026, 12:25:22 AM", "publicid": "2026p094649"}, {"lat": -35.062145233, "lon": 179.130569458, "magnitude": 3.517435854895228, "depth": 195.65370178222656, "intensity": "Low", "timestamp": "Wed, Feb 04 2026, 02:32:22 PM", "publicid": "2026p093530"}, {"lat": -30.084037781, "lon": -177.992141724, "magnitude": 5.494455218349879, "depth": 148.6405487060547, "intensity": "High", "timestamp": "Wed, Feb 04 2026, 10:39:25 AM", "publicid": "2026p093095"}, {"lat": -34.404941559, "lon": 179.959579468, "magnitude": 4.070552414164139, "depth": 237.7655029296875, "intensity": "High", "timestamp": "Wed, Feb 04 2026, 09:51:56 AM", "publicid": "2026p093003"}, {"lat": -41.864959717, "lon": 173.476867676, "magnitude": 3.7720477382629096, "depth": 27.85013008117676, "intensity": "Low", "timestamp": "Wed, Feb 04 2026, 05:54:56 AM", "publicid": "2026p092558"}, {"lat": -21.847, "lon": -177.726, "magnitude": 4.981489526065965, "depth": 344.4, "intensity": "High", "timestamp": "Wed, Feb 04 2026, 05:07:22 AM", "publicid": "2026p092474"}, {"lat": -40.440093994, "lon": 175.803436279, "magnitude": 3.282159636268896, "depth": 21.96068572998047, "intensity": "Low", "timestamp": "Wed, Feb 04 2026, 02:53:35 AM", "publicid": "2026p092217"}, {"lat": -26.900194168, "lon": -175.401657104, "magnitude": 5.079906925449777, "depth": 33.0, "intensity": "High", "timestamp": "Wed, Feb 04 2026, 02:07:42 AM", "publicid": "2026p092137"}, {"lat": -31.352485657, "lon": -178.754196167, "magnitude": 5.272104838771847, "depth": 33.0, "intensity": "High", "timestamp": "Wed, Feb 04 2026, 12:03:03 AM", "publicid": "2026p091900"}, {"lat": -41.634899139, "lon": 174.244979858, "magnitude": 4.355454515508382, "depth": 8.573848724365234, "intensity": "High", "timestamp": "Tue, Feb 03 2026, 11:35:31 PM", "publicid": "2026p091845"}, {"lat": -41.215595245, "lon": 172.29385376, "magnitude": 3.189979900731829, "depth": 5.0, "intensity": "Low", "timestamp": "Tue, Feb 03 2026, 08:28:41 PM", "publicid": "2026p091495"}, {"lat": -36.732692719, "lon": 177.483215332, "magnitude": 3.1586289395203915, "depth": 171.11874389648438, "intensity": "Low", "timestamp": "Tue, Feb 03 2026, 08:27:32 PM", "publicid": "2026p091493"}, {"lat": -40.255393982, "lon": 176.698959351, "magnitude": 3.104335158085534, "depth": 17.075733184814453, "intensity": "Low", "timestamp": "Tue, Feb 03 2026, 06:43:44 PM", "publicid": "2026p091298"}, {"lat": -46.715461731, "lon": 165.518966675, "magnitude": 3.204966243927963, "depth": 5.0, "intensity": "Low", "timestamp": "Mon, Feb 02 2026, 07:01:47 PM", "publicid": "2026p088629"}, {"lat": -25.825744629, "lon": -179.700317383, "magnitude": 4.353864929345854, "depth": 600.0, "intensity": "High", "timestamp": "Mon, Feb 02 2026, 10:05:50 AM", "publicid": "2026p087627"}, {"lat": -35.25888443, "lon": 178.72996521, "magnitude": 3.210493043111253, "depth": 172.80897521972656, "intensity": "Low", "timestamp": "Mon, Feb 02 2026, 08:43:30 AM", "publicid": "2026p087469"}, {"lat": -46.720790863, "lon": 165.68057251, "magnitude": 4.173938100750727, "depth": 5.0, "intensity": "High", "timestamp": "Mon, Feb 02 2026, 08:20:33 AM", "publicid": "2026p087426"}, {"lat": -46.743526459, "lon": 165.801727295, "magnitude": 5.534413993585694, "depth": 5.0, "intensity": "High", "timestamp": "Mon, Feb 02 2026, 08:15:42 AM", "publicid": "2026p087416"}, {"lat": -37.027423859, "lon": 177.358123779, "magnitude": 3.4572248174236435, "depth": 133.2085723876953, "intensity": "Low", "timestamp": "Mon, Feb 02 2026, 07:31:37 AM", "publicid": "2026p087334"}, {"lat": -23.658197403, "lon": 179.983078003, "magnitude": 4.622504770051583, "depth": 500.0, "intensity": "High", "timestamp": "Sun, Feb 01 2026, 06:09:33 PM", "publicid": "2026p085833"}, {"lat": -29.659284592, "lon": -179.754089355, "magnitude": 3.168442395608112, "depth": 364.7469482421875, "intensity": "Low", "timestamp": "Sun, Feb 01 2026, 03:05:45 PM", "publicid": "2026p085487"}, {"lat": -31.357767105, "lon": 179.065261841, "magnitude": 3.116631971752007, "depth": 319.9718933105469, "intensity": "Low", "timestamp": "Sun, Feb 01 2026, 10:12:03 AM", "publicid": "2026p084934"}, {"lat": -36.230369568, "lon": 177.345703125, "magnitude": 3.019640505809384, "depth": 269.86334228515625, "intensity": "Low", "timestamp": "Sun, Feb 01 2026, 10:02:21 AM", "publicid": "2026p084915"}, {"lat": -11.27, "lon": 166.007, "magnitude": 5.184448032719628, "depth": 9.6, "intensity": "High", "timestamp": "Sun, Feb 01 2026, 09:19:11 AM", "publicid": "2026p084844"}, {"lat": -28.159805298, "lon": 179.858703613, "magnitude": 3.120922227359816, "depth": 500.0, "intensity": "Low", "timestamp": "Sun, Feb 01 2026, 09:13:11 AM", "publicid": "2026p084826"}, {"lat": -35.472690582, "lon": 178.386611938, "magnitude": 3.2056202885131815, "depth": 207.1038055419922, "intensity": "Low", "timestamp": "Sun, Feb 01 2026, 03:25:35 AM", "publicid": "2026p084170"}, {"lat": -35.635932922, "lon": 178.337936401, "magnitude": 3.145969537443724, "depth": 179.62559509277344, "intensity": "Low", "timestamp": "Sun, Feb 01 2026, 03:21:45 AM", "publicid": "2026p084163"}, {"lat": -34.741085052, "lon": 178.452590942, "magnitude": 3.378728608931806, "depth": 33.0, "intensity": "Low", "timestamp": "Sun, Feb 01 2026, 02:06:35 AM", "publicid": "2026p084022"}, {"lat": -31.721122742, "lon": -179.460067749, "magnitude": 3.3872799409581487, "depth": 300.0, "intensity": "Low", "timestamp": "Sun, Feb 01 2026, 12:31:46 AM", "publicid": "2026p083845"}, {"lat": -18.832836151, "lon": -173.440139771, "magnitude": 4.425700213669069, "depth": 12.0, "intensity": "High", "timestamp": "Sat, Jan 31 2026, 10:06:49 PM", "publicid": "2026p083579"}, {"lat": -20.589653015, "lon": -173.751495361, "magnitude": 5.27688537221452, "depth": 100.0, "intensity": "High", "timestamp": "Sat, Jan 31 2026, 08:59:35 PM", "publicid": "2026p083451"}, {"lat": -25.070018768, "lon": 179.874954224, "magnitude": 4.2044612923190074, "depth": 600.0, "intensity": "High", "timestamp": "Sat, Jan 31 2026, 08:08:35 PM", "publicid": "2026p083354"}, {"lat": -37.306900024, "lon": 177.653244019, "magnitude": 3.213122375719941, "depth": 35.10326385498047, "intensity": "Low", "timestamp": "Sat, Jan 31 2026, 07:53:16 PM", "publicid": "2026p083320"}, {"lat": 6.61, "lon": 123.73, "magnitude": 4.702701861185423, "depth": 598.0, "intensity": "High", "timestamp": "Sat, Jan 31 2026, 06:34:44 PM", "publicid": "2026p083189"}, {"lat": -44.457061768, "lon": 169.685180664, "magnitude": 3.120364263797702, "depth": 5.0, "intensity": "Low", "timestamp": "Sat, Jan 31 2026, 05:23:39 PM", "publicid": "2026p083039"}, {"lat": -34.801383972, "lon": 178.682250977, "magnitude": 3.466998476209376, "depth": 100.0, "intensity": "Low", "timestamp": "Sat, Jan 31 2026, 05:20:45 PM", "publicid": "2026p083035"}, {"lat": -19.693401337, "lon": -177.391601562, "magnitude": 4.689848565207039, "depth": 566.4454345703125, "intensity": "High", "timestamp": "Sat, Jan 31 2026, 03:59:11 PM", "publicid": "2026p082886"}, {"lat": -36.988571167, "lon": 177.044067383, "magnitude": 3.005521518035894, "depth": 214.61724853515625, "intensity": "Low", "timestamp": "Sat, Jan 31 2026, 02:14:06 PM", "publicid": "2026p082683"}, {"lat": -35.829334259, "lon": 178.148132324, "magnitude": 3.186584627953321, "depth": 194.06686401367188, "intensity": "Low", "timestamp": "Sat, Jan 31 2026, 02:04:25 PM", "publicid": "2026p082666"}, {"lat": -35.43995285, "lon": 178.888580322, "magnitude": 3.9275451964823533, "depth": 33.0, "intensity": "Low", "timestamp": "Sat, Jan 31 2026, 11:15:49 AM", "publicid": "2026p082349"}, {"lat": -57.943, "lon": -25.427, "magnitude": 5.320562309339312, "depth": 89.2, "intensity": "High", "timestamp": "Sat, Jan 31 2026, 06:21:40 AM", "publicid": "2026p081818"}, {"lat": -25.663103104, "lon": -178.997543335, "magnitude": 4.410704782829823, "depth": 600.0, "intensity": "High", "timestamp": "Sat, Jan 31 2026, 04:41:15 AM", "publicid": "2026p081614"}, {"lat": -37.234100342, "lon": 179.999938965, "magnitude": 3.859059588285243, "depth": 12.0, "intensity": "Low", "timestamp": "Fri, Jan 30 2026, 10:19:22 PM", "publicid": "2026p080892"}, {"lat": -39.614562988, "lon": 173.527908325, "magnitude": 3.5601465162542714, "depth": 12.0, "intensity": "Low", "timestamp": "Fri, Jan 30 2026, 02:49:01 PM", "publicid": "2026p080046"}, {"lat": -29.0956707, "lon": -175.637832642, "magnitude": 4.74049939123401, "depth": 33.0, "intensity": "High", "timestamp": "Fri, Jan 30 2026, 12:03:59 PM", "publicid": "2026p079741"}];

        // Add markers for each earthquake
        earthquakes.forEach(function(quake) {
            var color = quake.intensity === 'High' ? 'red' : 'green';
            var size = Math.max(5, quake.magnitude * 2);

            var marker = L.circleMarker([quake.lat, quake.lon], {
                radius: size,
                fillColor: color,
                color: color,
                weight: 2,
                opacity: 0.8,
                fillOpacity: 0.6
            }).addTo(map);

            // Create popup with earthquake details
            var popupContent = `
                <div style="font-family: Arial, sans-serif;">
                    <h3 style="margin: 0 0 10px 0; color: #6b46c1;">
                        Magnitude ${quake.magnitude}
                    </h3>
                    <p style="margin: 5px 0;"><strong>Intensity:</strong>
                        <span style="color: ${color}; font-weight: bold;">
                            ${quake.intensity}
                        </span>
                    </p>
                    <p style="margin: 5px 0;">
                        <strong>Depth:</strong> ${quake.depth} km
                    </p>
                    <p style="margin: 5px 0;">
                        <strong>Time:</strong> ${quake.timestamp}
                    </p>
                    <p style="margin: 5px 0;"><strong>Location:</strong>
                        ${quake.lat.toFixed(4)}, ${quake.lon.toFixed(4)}
                    </p>
                    <p style="margin: 10px 0 0 0;">
            <a href="${"https://www.geonet.org.nz/earthquake/"}${quake.publicid}"
                           target="_blank"
                           style="color: #3498db; text-decoration: none;">
                            View on GeoNet â†’
                        </a>
                    </p>
                </div>
            `;

            marker.bindPopup(popupContent);
        });

        // Add legend
        var legend = L.control({position: 'bottomright'});
        legend.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'legend');
            div.style.backgroundColor = 'white';
            div.style.padding = '10px';
            div.style.border = '2px solid #ccc';
            div.style.borderRadius = '5px';
            div.innerHTML = `
                <h4 style="margin: 0 0 10px 0;">
                    Intensity (actual)
                </h4>
                <div style="margin: 5px 0;">
                    <span
                        style="
                            display: inline-block;
                            width: 12px;
                            height: 12px;
                            background-color: red;
                            border-radius: 50%;
                            margin-right: 8px;"
                    ></span>
                    High (Mag >= 4)
                </div>
                <div style="margin: 5px 0;">
                    <span style="
                        display: inline-block;
                        width: 12px;
                        height: 12px;
                        background-color: green;
                        border-radius: 50%;
                        margin-right: 8px;"
                    ></span>
                    Low (Mag < 4)
                </div>
            `;
            return div;
        };
        legend.addTo(map);
    </script>
</body>
</html>
