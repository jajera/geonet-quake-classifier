
    <!DOCTYPE html>
    <html>
    <head>
        <title>Earthquake Map - Neural Network</title>
        <link rel="icon" type="image/png" href="favicon.png">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <style>
            #map { height: 100vh; }
            .legend {
                padding: 6px 8px;
                background: white;
                background: rgba(255,255,255,0.8);
                box-shadow: 0 0 15px rgba(0,0,0,0.2);
                border-radius: 5px;
            }
            .legend i {
                width: 18px;
                height: 18px;
                float: left;
                margin-right: 8px;
                opacity: 0.7;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>
        <script>
            var GEONET_EARTHQUAKE_URL_BASE = "https://www.geonet.org.nz/earthquake/";
            var map = L.map('map').setView([-40.9, 174.9], 6);
            L.tileLayer(
                'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
                {
                    'attribution': 'Â© OpenStreetMap contributors'
                }
            ).addTo(map);

            var data = [{"lat": 20.012922287, "lon": 144.932647705, "magnitude": 5.569352264675274, "depth": 33.0, "intensity": "High", "timestamp": "Mon, Jun 02 2025, 06:51:52 AM", "publicid": "2025p411601"}, {"lat": -35.606582642, "lon": 178.287689209, "magnitude": 3.3838932511218687, "depth": 171.2316131591797, "intensity": "Low", "timestamp": "Mon, Jun 02 2025, 02:52:26 AM", "publicid": "2025p411134"}, {"lat": -35.475128174, "lon": -178.832687378, "magnitude": 4.200030675615143, "depth": 12.0, "intensity": "High", "timestamp": "Sun, Jun 01 2025, 11:33:28 PM", "publicid": "2025p410761"}, {"lat": -35.484855652, "lon": 179.971984863, "magnitude": 3.2052113921608165, "depth": 100.0, "intensity": "Low", "timestamp": "Sun, Jun 01 2025, 10:21:57 PM", "publicid": "2025p410626"}, {"lat": -27.59210968, "lon": -176.449020386, "magnitude": 4.809594000356371, "depth": 61.92273330688477, "intensity": "High", "timestamp": "Sun, Jun 01 2025, 10:17:00 PM", "publicid": "2025p410617"}, {"lat": -48.419715881, "lon": 165.171234131, "magnitude": 4.482128577313006, "depth": 33.0, "intensity": "High", "timestamp": "Sun, Jun 01 2025, 08:48:49 PM", "publicid": "2025p410453"}, {"lat": -33.338363647, "lon": -178.750793457, "magnitude": 3.268304274385264, "depth": 300.3556213378906, "intensity": "Low", "timestamp": "Sun, Jun 01 2025, 07:36:05 PM", "publicid": "2025p410317"}, {"lat": -39.944667816, "lon": 174.434890747, "magnitude": 4.252352746736508, "depth": 16.434675216674805, "intensity": "High", "timestamp": "Sun, Jun 01 2025, 12:53:08 PM", "publicid": "2025p409559"}, {"lat": -31.24549675, "lon": -177.44190979, "magnitude": 3.760720094524064, "depth": 251.091552734375, "intensity": "Low", "timestamp": "Sun, Jun 01 2025, 12:17:00 PM", "publicid": "2025p409493"}, {"lat": -33.818939209, "lon": -179.083267212, "magnitude": 3.9682836342684475, "depth": 33.0, "intensity": "Low", "timestamp": "Sun, Jun 01 2025, 08:38:30 AM", "publicid": "2025p409082"}, {"lat": -46.792064667, "lon": 165.72303772, "magnitude": 4.043522962275135, "depth": 5.0, "intensity": "High", "timestamp": "Sun, Jun 01 2025, 08:21:41 AM", "publicid": "2025p409049"}, {"lat": -41.500984192, "lon": 173.345214844, "magnitude": 3.767984978822448, "depth": 49.61807632446289, "intensity": "Low", "timestamp": "Sun, Jun 01 2025, 04:51:48 AM", "publicid": "2025p408655"}, {"lat": -36.479038239, "lon": 177.274353027, "magnitude": 3.365598409776053, "depth": 5.0, "intensity": "Low", "timestamp": "Sun, Jun 01 2025, 04:30:03 AM", "publicid": "2025p408614"}, {"lat": -36.494476318, "lon": 177.24307251, "magnitude": 3.528769889667611, "depth": 5.0, "intensity": "Low", "timestamp": "Sun, Jun 01 2025, 04:27:43 AM", "publicid": "2025p408610"}, {"lat": -16.293640137, "lon": -171.537139893, "magnitude": 4.988867700302227, "depth": 33.0, "intensity": "High", "timestamp": "Sun, Jun 01 2025, 03:06:25 AM", "publicid": "2025p408467"}, {"lat": -42.951765428, "lon": 171.790807457, "magnitude": 3.406009673904936, "depth": 25.453125, "intensity": "Low", "timestamp": "Sat, May 31 2025, 10:30:16 PM", "publicid": "2025p407939"}, {"lat": -27.695987701, "lon": -177.398788452, "magnitude": 6.50127311175793, "depth": 12.0, "intensity": "High", "timestamp": "Sat, May 31 2025, 10:26:20 PM", "publicid": "2025p407935"}, {"lat": -31.725811005, "lon": -179.732009888, "magnitude": 3.780721757215598, "depth": 414.0085754394531, "intensity": "Low", "timestamp": "Sat, May 31 2025, 10:21:19 PM", "publicid": "2025p407924"}, {"lat": -36.830535889, "lon": 177.582580566, "magnitude": 3.4113018302860003, "depth": 165.70204162597656, "intensity": "Low", "timestamp": "Sat, May 31 2025, 10:05:55 PM", "publicid": "2025p407894"}, {"lat": -27.69493103, "lon": -177.828979492, "magnitude": 6.471939442114008, "depth": 5.0, "intensity": "High", "timestamp": "Sat, May 31 2025, 09:21:08 PM", "publicid": "2025p407810"}, {"lat": -38.327964783, "lon": 175.749710083, "magnitude": 3.425927691085896, "depth": 170.9745635986328, "intensity": "Low", "timestamp": "Sat, May 31 2025, 09:05:05 PM", "publicid": "2025p407779"}, {"lat": -30.436061859, "lon": -178.862670898, "magnitude": 3.9986676819589664, "depth": 202.59776306152344, "intensity": "Low", "timestamp": "Sat, May 31 2025, 08:59:25 PM", "publicid": "2025p407772"}, {"lat": -36.808982849, "lon": 178.018569946, "magnitude": 3.11523340128996, "depth": 5.0, "intensity": "Low", "timestamp": "Sat, May 31 2025, 07:15:35 PM", "publicid": "2025p407574"}, {"lat": -27.709653854, "lon": -177.652435303, "magnitude": 6.54118167130229, "depth": 33.0, "intensity": "High", "timestamp": "Sat, May 31 2025, 02:28:52 PM", "publicid": "2025p407042"}, {"lat": -34.191051483, "lon": 179.543945312, "magnitude": 3.762840788184908, "depth": 100.0, "intensity": "Low", "timestamp": "Sat, May 31 2025, 02:00:03 PM", "publicid": "2025p406983"}, {"lat": -36.485034943, "lon": 177.287475586, "magnitude": 3.587645656381737, "depth": 5.0, "intensity": "Low", "timestamp": "Sat, May 31 2025, 11:09:38 AM", "publicid": "2025p406662"}, {"lat": -36.50982666, "lon": 177.29208374, "magnitude": 3.8715693308153454, "depth": 5.0, "intensity": "Low", "timestamp": "Sat, May 31 2025, 10:40:59 AM", "publicid": "2025p406608"}, {"lat": -36.564769745, "lon": 177.245986938, "magnitude": 3.1903474194478743, "depth": 5.0, "intensity": "Low", "timestamp": "Sat, May 31 2025, 07:31:06 AM", "publicid": "2025p406252"}, {"lat": -36.558250427, "lon": 177.225234985, "magnitude": 3.1408449700043404, "depth": 5.0, "intensity": "Low", "timestamp": "Fri, May 30 2025, 11:20:17 PM", "publicid": "2025p405330"}, {"lat": -39.410434723, "lon": 174.434143066, "magnitude": 3.036830349585353, "depth": 136.54241943359375, "intensity": "Low", "timestamp": "Fri, May 30 2025, 10:14:02 PM", "publicid": "2025p405206"}, {"lat": -21.176044464, "lon": -175.161132812, "magnitude": 5.476504243600681, "depth": 100.0, "intensity": "High", "timestamp": "Fri, May 30 2025, 09:30:33 PM", "publicid": "2025p405133"}, {"lat": -22.144, "lon": -176.022, "magnitude": 5.4483902460133, "depth": 75.2, "intensity": "High", "timestamp": "Fri, May 30 2025, 04:45:08 PM", "publicid": "2025p404595"}, {"lat": -12.268075943, "lon": 175.75302124, "magnitude": 5.373856555209468, "depth": 33.0, "intensity": "High", "timestamp": "Fri, May 30 2025, 08:18:20 AM", "publicid": "2025p403646"}, {"lat": -37.216693878, "lon": 177.098388672, "magnitude": 4.12351403997842, "depth": 142.57394409179688, "intensity": "High", "timestamp": "Fri, May 30 2025, 04:22:36 AM", "publicid": "2025p403195"}, {"lat": -23.649461746, "lon": 179.889434814, "magnitude": 4.695787377390682, "depth": 555.104736328125, "intensity": "High", "timestamp": "Fri, May 30 2025, 02:47:28 AM", "publicid": "2025p403021"}, {"lat": -37.762362578, "lon": 177.928002751, "magnitude": 3.9676897057694425, "depth": 77.515625, "intensity": "Low", "timestamp": "Thu, May 29 2025, 10:41:46 AM", "publicid": "2025p401203"}, {"lat": -34.150363922, "lon": -178.23840332, "magnitude": 3.470637521254553, "depth": 33.11000061035156, "intensity": "Low", "timestamp": "Thu, May 29 2025, 09:27:17 AM", "publicid": "2025p401065"}, {"lat": -36.894371033, "lon": 177.39364624, "magnitude": 3.5638818744990326, "depth": 174.68609619140625, "intensity": "Low", "timestamp": "Thu, May 29 2025, 09:23:50 AM", "publicid": "2025p401058"}, {"lat": -35.340591431, "lon": 178.8152771, "magnitude": 3.5300761534368794, "depth": 216.625732421875, "intensity": "Low", "timestamp": "Thu, May 29 2025, 08:04:49 AM", "publicid": "2025p400910"}, {"lat": -31.622560501, "lon": 179.857376099, "magnitude": 3.208188684903376, "depth": 463.9209289550781, "intensity": "Low", "timestamp": "Thu, May 29 2025, 08:00:50 AM", "publicid": "2025p400904"}, {"lat": -33.26915741, "lon": -177.672561646, "magnitude": 3.7312706134231433, "depth": 33.0, "intensity": "Low", "timestamp": "Thu, May 29 2025, 07:40:51 AM", "publicid": "2025p400867"}, {"lat": -36.308055878, "lon": 179.215530396, "magnitude": 3.650013794736085, "depth": 95.63740539550781, "intensity": "Low", "timestamp": "Thu, May 29 2025, 04:44:39 AM", "publicid": "2025p400534"}, {"lat": -30.852609634, "lon": -177.388259888, "magnitude": 5.384724183668151, "depth": 12.0, "intensity": "High", "timestamp": "Thu, May 29 2025, 01:28:02 AM", "publicid": "2025p400168"}, {"lat": -35.328136444, "lon": 179.742233276, "magnitude": 3.1483646332358624, "depth": 333.7803649902344, "intensity": "Low", "timestamp": "Thu, May 29 2025, 12:10:45 AM", "publicid": "2025p400021"}, {"lat": -39.720760345, "lon": 176.874969482, "magnitude": 3.0325288796047207, "depth": 37.25895690917969, "intensity": "Low", "timestamp": "Thu, May 29 2025, 12:05:50 AM", "publicid": "2025p400010"}, {"lat": -30.470108032, "lon": -177.162139893, "magnitude": 4.984685799582286, "depth": 33.0, "intensity": "High", "timestamp": "Wed, May 28 2025, 09:15:09 PM", "publicid": "2025p399694"}, {"lat": -37.236000061, "lon": 179.055480957, "magnitude": 3.461732403969918, "depth": 33.0, "intensity": "Low", "timestamp": "Wed, May 28 2025, 08:40:43 PM", "publicid": "2025p399625"}, {"lat": -48.416114807, "lon": 164.843658447, "magnitude": 3.4429655336628064, "depth": 33.0, "intensity": "Low", "timestamp": "Wed, May 28 2025, 06:41:59 PM", "publicid": "2025p399404"}, {"lat": 11.728676796, "lon": 145.458236694, "magnitude": 5.990177112005491, "depth": 33.0, "intensity": "High", "timestamp": "Wed, May 28 2025, 01:34:24 PM", "publicid": "2025p398843"}, {"lat": -14.267, "lon": 167.276, "magnitude": 5.929739119417405, "depth": 202.4, "intensity": "High", "timestamp": "Wed, May 28 2025, 08:57:48 AM", "publicid": "2025p398314"}, {"lat": -31.125255585, "lon": 179.899490356, "magnitude": 3.3361800756328246, "depth": 393.8817138671875, "intensity": "Low", "timestamp": "Tue, May 27 2025, 10:44:40 PM", "publicid": "2025p397159"}, {"lat": -39.012859344, "lon": 174.879882812, "magnitude": 3.387490352190847, "depth": 189.5978240966797, "intensity": "Low", "timestamp": "Tue, May 27 2025, 10:05:47 PM", "publicid": "2025p397081"}, {"lat": -40.294319153, "lon": 174.31388855, "magnitude": 3.1046427517063337, "depth": 78.11785125732422, "intensity": "Low", "timestamp": "Tue, May 27 2025, 09:47:36 PM", "publicid": "2025p397048"}, {"lat": -23.572378159, "lon": 179.239959717, "magnitude": 5.295653449869299, "depth": 584.2984619140625, "intensity": "High", "timestamp": "Tue, May 27 2025, 06:49:36 PM", "publicid": "2025p396718"}, {"lat": -38.366771698, "lon": 176.219345093, "magnitude": 3.7615683239676345, "depth": 117.92575073242188, "intensity": "Low", "timestamp": "Tue, May 27 2025, 06:24:25 PM", "publicid": "2025p396667"}, {"lat": -38.282672882, "lon": 178.65586853, "magnitude": 3.3496594762470617, "depth": 18.42690658569336, "intensity": "Low", "timestamp": "Tue, May 27 2025, 02:15:34 PM", "publicid": "2025p396200"}, {"lat": -16.485380173, "lon": -173.40196228, "magnitude": 4.6640677542372, "depth": 100.0, "intensity": "High", "timestamp": "Tue, May 27 2025, 01:25:11 PM", "publicid": "2025p396114"}, {"lat": -33.777542114, "lon": -178.738647461, "magnitude": 4.493673928472344, "depth": 33.0, "intensity": "High", "timestamp": "Tue, May 27 2025, 10:50:52 AM", "publicid": "2025p395816"}, {"lat": -5.481, "lon": 147.092, "magnitude": 4.850551656922831, "depth": 193.6, "intensity": "High", "timestamp": "Tue, May 27 2025, 10:30:20 AM", "publicid": "2025p395790"}, {"lat": -23.863794327, "lon": 179.596969604, "magnitude": 4.235916473788269, "depth": 524.9794921875, "intensity": "High", "timestamp": "Tue, May 27 2025, 10:19:50 AM", "publicid": "2025p395762"}, {"lat": -15.638959885, "lon": 167.455062866, "magnitude": 4.905290465716787, "depth": 100.0, "intensity": "High", "timestamp": "Tue, May 27 2025, 09:21:43 AM", "publicid": "2025p395656"}, {"lat": -37.086551666, "lon": 177.379150391, "magnitude": 3.4005805760448373, "depth": 139.68287658691406, "intensity": "Low", "timestamp": "Tue, May 27 2025, 08:13:55 AM", "publicid": "2025p395521"}, {"lat": -30.995922089, "lon": -177.811309814, "magnitude": 3.1273606507788263, "depth": 300.0, "intensity": "Low", "timestamp": "Tue, May 27 2025, 06:58:05 AM", "publicid": "2025p395382"}, {"lat": -45.058223724, "lon": 167.452178955, "magnitude": 3.8286967099437743, "depth": 98.0639419555664, "intensity": "Low", "timestamp": "Tue, May 27 2025, 05:39:35 AM", "publicid": "2025p395231"}, {"lat": -10.205, "lon": 110.261, "magnitude": 5.603889053803922, "depth": 10.0, "intensity": "High", "timestamp": "Tue, May 27 2025, 12:55:05 AM", "publicid": "2025p394715"}, {"lat": -30.215799332, "lon": -179.632385254, "magnitude": 3.834615027851654, "depth": 300.0, "intensity": "Low", "timestamp": "Mon, May 26 2025, 10:57:11 PM", "publicid": "2025p394479"}, {"lat": 9.132424355, "lon": 138.971862793, "magnitude": 4.764345240914373, "depth": 600.0, "intensity": "High", "timestamp": "Mon, May 26 2025, 10:12:51 PM", "publicid": "2025p394408"}, {"lat": -31.92089653, "lon": -178.829788208, "magnitude": 4.010859864957361, "depth": 27.75753402709961, "intensity": "High", "timestamp": "Mon, May 26 2025, 07:18:40 PM", "publicid": "2025p394069"}, {"lat": -42.006996155, "lon": 173.830062866, "magnitude": 3.743761365170507, "depth": 24.630441665649414, "intensity": "Low", "timestamp": "Mon, May 26 2025, 05:24:16 PM", "publicid": "2025p393851"}, {"lat": -30.566144943, "lon": 179.079940796, "magnitude": 3.842106474648461, "depth": 382.1384582519531, "intensity": "Low", "timestamp": "Mon, May 26 2025, 03:09:33 PM", "publicid": "2025p393600"}, {"lat": -44.480262756, "lon": 168.421951294, "magnitude": 3.1434698988176266, "depth": 5.0, "intensity": "Low", "timestamp": "Mon, May 26 2025, 09:34:44 AM", "publicid": "2025p392970"}];
            console.log("Data loaded:", data.length, "earthquakes");

            data.forEach(function(q) {
                var color = q.intensity === 'High' ? 'red' : 'green';
                var marker = L.circleMarker([q.lat, q.lon], {
                    radius: q.magnitude * 2,
                    fillColor: color,
                    color: '#000',
                    weight: 1,
                    opacity: 1,
                    fillOpacity: 0.8
                });

                marker.bindPopup(
                    '<b>Public ID:</b> <a href="' +
                    GEONET_EARTHQUAKE_URL_BASE + q.publicid +
                    '" target="_blank">' + q.publicid +
                    '</a><br>' +
                    '<b>Mag:</b> ' + q.magnitude.toFixed(1) + '<br>' +
                    '<b>Depth:</b> ' + q.depth.toFixed(1) + ' km<br>' +
                    '<b>Intensity:</b> ' + q.intensity + '<br>' +
                    '<b>Time:</b> ' + q.timestamp
                );
                marker.addTo(map);
            });

            // Add legend
            var legend = L.control({position: 'bottomright'});
            legend.onAdd = function(map) {
                var div = L.DomUtil.create('div', 'legend');
                div.innerHTML = '<h4>Intensity (' +
                    'predicted)</h4>' +
                    '<i style="background: red"></i>' +
                    ' High (Mag >= 4)<br>' +
                    '<i style="background: green"></i>' +
                    ' Low (Mag < 4)';
                return div;
            };
            legend.addTo(map);
        </script>
    </body>
    </html>
    